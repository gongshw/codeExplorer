<div class="panel panel-default">

	<div class="panel-heading">
		<h3 class="panel-title">Outline</h3>
	</div>

	<div class="panel-body" id="outline_defines_wrap">
		<div id="outline_defines"></div>
	</div>
</div>

<style>

	.highlight {
		background: white;
	}

</style>

<script>

	function flash_ele($ele) {
		$ele.addClass('animated flash highlight').
				one('webkitAnimationEnd oAnimationEnd', function () {
					$(this).removeClass('animated flash highlight');
				});
	}

	function go_to_line(line) {
		var target_span = $('#l-' + line);
		$(document.body).animate({scrollTop: target_span.offset().top - 150 }, 80, function () {
			flash_ele(target_span);
		});
	}

	$(function () {
		$('#outline_defines').load('ajax/outline/<%=file%>', function () {
			$('#outline_defines li a').click(function (e) {
				e.preventDefault();
				go_to_line($(this).data('line'));
			});
		});
	});

</script>
